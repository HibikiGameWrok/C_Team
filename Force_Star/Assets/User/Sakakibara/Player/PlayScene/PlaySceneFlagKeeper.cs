using System.Collections;
using System.Collections.Generic;
using UnityEngine;

//*|***|***|***|***|***|***|***|***|***|***|***|
// 音楽
//*|***|***|***|***|***|***|***|***|***|***|***|
using SoundID = SEManager.SoundID;
//*|***|***|***|***|***|***|***|***|***|***|***|
// フラグ管理人
//*|***|***|***|***|***|***|***|***|***|***|***|
public partial class PlaySceneDirector : MonoBehaviour
{
    //*|***|***|***|***|***|***|***|***|***|***|***|
    // ゲーム
    //*|***|***|***|***|***|***|***|***|***|***|***|
    // 祝い
    //*|***|***|***|***|***|***|***|***|***|***|***|
    // 星が集まったよ！
    //*|***|***|***|***|***|***|***|***|***|***|***|
    bool m_starCelebration;
    //*|***|***|***|***|***|***|***|***|***|***|***|
    // パーツが集まったよ！
    //*|***|***|***|***|***|***|***|***|***|***|***|
    bool m_partsCelebration;


    //*|***|***|***|***|***|***|***|***|***|***|***|
    // 警告
    //*|***|***|***|***|***|***|***|***|***|***|***|
    // 空気が少ない
    //*|***|***|***|***|***|***|***|***|***|***|***|
    bool m_airWarning;
    //*|***|***|***|***|***|***|***|***|***|***|***|
    // 耐久力が少ない
    //*|***|***|***|***|***|***|***|***|***|***|***|
    bool m_partsWarning;


    //*|***|***|***|***|***|***|***|***|***|***|***|
    // フラグ管理
    //*|***|***|***|***|***|***|***|***|***|***|***|
    void AwakeFlagKeeper()
    {
        //*|***|***|***|***|***|***|***|***|***|***|***|
        // ゲーム
        //*|***|***|***|***|***|***|***|***|***|***|***|
        // 祝い
        //*|***|***|***|***|***|***|***|***|***|***|***|
        // 星が集まったよ！
        //*|***|***|***|***|***|***|***|***|***|***|***|
        m_starCelebration = false;
        //*|***|***|***|***|***|***|***|***|***|***|***|
        // パーツが集まったよ！
        //*|***|***|***|***|***|***|***|***|***|***|***|
        m_partsCelebration = false;

        //*|***|***|***|***|***|***|***|***|***|***|***|
        // 警告
        //*|***|***|***|***|***|***|***|***|***|***|***|
        // 空気が少ない
        //*|***|***|***|***|***|***|***|***|***|***|***|
        m_airWarning = false;
        //*|***|***|***|***|***|***|***|***|***|***|***|
        // 耐久力が少ない
        //*|***|***|***|***|***|***|***|***|***|***|***|
        m_partsWarning = false;
    }
    //*|***|***|***|***|***|***|***|***|***|***|***|
    // フラグ管理
    //*|***|***|***|***|***|***|***|***|***|***|***|
    void UpdateFlagKeeper()
    {
        //*|***|***|***|***|***|***|***|***|***|***|***|
        // データ終結！
        //*|***|***|***|***|***|***|***|***|***|***|***|
        float airParsent = m_playerIndex.GetAirParsent();
        float starParsent = m_playerIndex.GetHaveStarParsent();
        bool allParts = m_playerIndex.GetHaveAllPartsFlag();

        //*|***|***|***|***|***|***|***|***|***|***|***|
        // 星が集まったよ！
        //*|***|***|***|***|***|***|***|***|***|***|***|
        if (starParsent > 1.0f)
        {
            //*|***|***|***|***|***|***|***|***|***|***|***|
            // 一回限り
            //*|***|***|***|***|***|***|***|***|***|***|***|
            if (!m_starCelebration) 
            {
                //*|***|***|***|***|***|***|***|***|***|***|***|
                // ててててー！
                //*|***|***|***|***|***|***|***|***|***|***|***|
                m_directorIndex.PlaySoundEffect(SoundID.DELIVERYSTAR);
                //*|***|***|***|***|***|***|***|***|***|***|***|
                // 一回限り
                //*|***|***|***|***|***|***|***|***|***|***|***|
                m_starCelebration = true;
            }
        }
        //*|***|***|***|***|***|***|***|***|***|***|***|
        // パーツが集まったよ！
        //*|***|***|***|***|***|***|***|***|***|***|***|
        if (allParts)
        {
            //*|***|***|***|***|***|***|***|***|***|***|***|
            // 一回限り
            //*|***|***|***|***|***|***|***|***|***|***|***|
            if (!m_partsCelebration)
            {
                //*|***|***|***|***|***|***|***|***|***|***|***|
                // ててててー！
                //*|***|***|***|***|***|***|***|***|***|***|***|
                m_directorIndex.PlaySoundEffect(SoundID.DELIVERYSTAR);
                //*|***|***|***|***|***|***|***|***|***|***|***|
                // 一回限り
                //*|***|***|***|***|***|***|***|***|***|***|***|
                m_partsCelebration = true;
            }
        }
        //*|***|***|***|***|***|***|***|***|***|***|***|
        // 空気が少ないよ
        //*|***|***|***|***|***|***|***|***|***|***|***|
        if (airParsent < 0.25f)
        {
            //*|***|***|***|***|***|***|***|***|***|***|***|
            // 一回限り
            //*|***|***|***|***|***|***|***|***|***|***|***|
            if (!m_airWarning)
            {
                //*|***|***|***|***|***|***|***|***|***|***|***|
                // ててててー！
                //*|***|***|***|***|***|***|***|***|***|***|***|
                m_directorIndex.PlaySoundEffect(SoundID.SIREN_02);
                //*|***|***|***|***|***|***|***|***|***|***|***|
                // 一回限り
                //*|***|***|***|***|***|***|***|***|***|***|***|
                m_airWarning = true;
            }
        }


    }



}
